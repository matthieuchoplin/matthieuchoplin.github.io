<pre class="code postgresql literal-block">
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">pg_stat_activity</span> <span class="k">where</span> <span class="n">waiting</span><span class="o">=</span><span class="s1">'t'</span><span class="p">;</span>
</pre>
<p>Fix the lock:</p>
<pre class="code postgresql literal-block">
<span class="k">select</span> <span class="n">pg_cancel_backend</span><span class="p">(</span><span class="n">pid</span> <span class="nb">int</span><span class="p">)</span>
</pre>
<p>Where &quot;pid int&quot; is the pid you find with pg_stat_activity.</p>
<p>Sources:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.postgresql.org/docs/9.2/static/functions-admin.html">http://www.postgresql.org/docs/9.2/static/functions-admin.html</a></li>
<li><a class="reference external" href="http://wiki.postgresql.org/wiki/Lock_Monitoring">http://wiki.postgresql.org/wiki/Lock_Monitoring</a></li>
<li><a class="reference external" href="http://chrismiles.info/systemsadmin/databases/articles/viewing-current-postgresql-queries/">http://chrismiles.info/systemsadmin/databases/articles/viewing-current-postgresql-queries/</a></li>
</ul>
